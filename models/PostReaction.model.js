const mongoose = require('mongoose');
const { PostReaction, Post, User } = require('../const');
const ObjectId = require('mongoose').Types.ObjectId;
const reactionType = require('../reaction-type.config');

module.exports = mongoose.model(
  PostReaction,
  new mongoose.Schema({
    _id: ObjectId,
    created_at: Date,
    post_id: { type: ObjectId, ref: Post },
    user_id: { type: ObjectId, ref: User },
    content: String,
    type: {
      type: String,
      enum: Object.values(reactionType),
    },
  }),
  PostReaction
)